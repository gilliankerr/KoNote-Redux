# PIPEDA Privacy Compliance Review — KoNote2

**Date:** 2026-02-06
**External Reviewer:** Jules (Google AI coding agent)
**Internal Verification:** Claude Code (same session)

---

## Compliance Summary

| PIPEDA Principle | Status | Notes |
|-----------------|--------|-------|
| 1. Accountability | **Partial** | Privacy policy template exists, but no app setting for Privacy Officer contact |
| 2. Identifying Purposes | **Partial** | Purposes inferred from field names; no UI explanations for standard PII fields |
| 3. Consent | **Compliant** | Robust consent capture (types, dates) and withdrawal via erasure |
| 4. Limiting Collection | **Compliant** | Custom fields allow limiting collection; registration forms are configurable |
| 5. Limiting Use, Disclosure, Retention | **Partial** | Retention dates tracked but no automated alerting when records expire |
| 6. Accuracy | **Partial** | Staff-mediated updates only; no client portal (accepted risk for this sector) |
| 7. Safeguards | **Compliant** | Fernet encryption, strict RBAC, delayed exports, audit logging |
| 8. Openness | **Compliant** | Comprehensive privacy policy template provided |
| 9. Individual Access | **Compliant** | Admin exports and multi-PM erasure workflow |
| 10. Challenging Compliance | **Compliant** | Complaint process in policy template |

---

## Findings

### [HIGH-001] No Automated Retention Enforcement

- **Principle:** 5 — Limiting Use, Disclosure, and Retention
- **Location:** `apps/clients/models.py:73` (`retention_expires` field), `apps/clients/erasure.py:88-97`
- **Gap:** `retention_expires` is tracked and the erasure system checks it, but nothing
  notifies staff when records pass their retention date. Data could be retained
  indefinitely if staff don't manually review.
- **Risk:** Regulatory non-compliance with PIPEDA retention limits.
- **Recommendation:** Create a management command that runs daily (via cron or
  scheduled task) to email admins a list of records past their retention date.
- **Agency action:** Until automation exists, schedule monthly manual review of
  client list filtered by retention date.

**Verification:** Confirmed. No management command, cron job, or notification
exists for expired retention. The field is only checked during erasure requests.

### [MED-001] No Privacy Officer Configuration Setting

- **Principle:** 1 — Accountability
- **Location:** `docs/privacy-policy-template.md:298, 339` (placeholder references)
- **Gap:** Privacy Officer contact details require manual find-and-replace in the
  policy template. No `InstanceSettings` field or environment variable exposes
  this in the app UI, emails, or footer.
- **Risk:** Inconsistent or missing contact details across the application.
- **Recommendation:** Add `privacy_officer_name` and `privacy_officer_email` to
  `InstanceSettings` and expose in template context.
- **Agency action:** Manually edit privacy policy template and communicate contact
  details to staff.

**Verification:** Confirmed. Searched codebase — 15+ references to "privacy officer"
in docs/templates, all as placeholder text. No configurable setting exists.

### [LOW-001] PII Field Purposes Not Explicit in UI

- **Principle:** 2 — Identifying Purposes
- **Location:** `apps/clients/models.py` (standard PII fields), `apps/registration/models.py`
- **Gap:** Standard PII fields (first name, last name, DOB) have no `help_text`
  explaining why they're collected.
- **Risk:** Low. Staff understand why names are needed. Only relevant for
  client-facing self-registration forms.
- **Recommendation:** Add brief `help_text` or a "why we collect this" block on
  public registration forms only.

**Jules' severity:** MEDIUM — Downgraded to LOW.
**Rationale:** This is a staff-operated case management tool, not a consumer app.
Staff data entry doesn't need "why we ask" explanations. Only the self-service
registration form (public-facing) would benefit.

### [LOW-002] No Client Self-Correction Portal

- **Principle:** 6 — Accuracy
- **Location:** N/A (missing feature)
- **Gap:** Clients cannot log in to view or correct their own data.
- **Risk:** Minor. Staff-mediated correction is standard in social services.
- **Recommendation:** Accepted risk. Not on roadmap. If agencies request it,
  consider a secure link mechanism for demographic self-update.

**Verification:** Accepted risk — appropriate for this sector and use case.

---

## Agency Deployment Checklist

These are the deploying agency's responsibility (not code fixes):

- [ ] Designate a Privacy Officer and record their contact details
- [ ] Customise `docs/privacy-policy-template.md` — replace all `[PLACEHOLDER]` values
- [ ] Publish the privacy policy (login page, agency website, or both)
- [ ] Define written retention periods (e.g., "7 years after discharge")
- [ ] Ensure staff enter `retention_expires` for every client
- [ ] Schedule monthly review of expired retention dates (until automated)
- [ ] Create offline breach response plan (who to call, when to notify Commissioner)
- [ ] Train staff on: password safety, export policies, demo/real separation, erasure workflow

---

## Recommendations for Development

1. **Retention alerting command** — Daily management command to email admins about
   expired retention dates (addresses HIGH-001)
2. **Privacy Officer settings** — Add to InstanceSettings so contact details
   appear in templates and emails automatically (addresses MED-001)
3. **Anomaly detection** — Flag unusual audit patterns (bulk exports, login from
   new locations) as a future enhancement
4. **Registration form help text** — Add "why we collect this" to public-facing
   registration forms (addresses LOW-001)

---

## Review Metadata

- **Framework:** `tasks/code-review-framework.md` Prompt B (Privacy / PIPEDA)
- **Tool:** Jules (jules.google) — Gemini-powered code review agent
- **Repo:** github.com/gilliankerr/KoNote-Redux (public, main branch)
- **Previous review:** `tasks/reviews/2026-02-06-security.md` (Security)
- **Next scheduled:** Quarterly or after changes to consent, erasure, or export code
