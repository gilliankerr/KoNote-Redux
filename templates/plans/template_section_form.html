{% extends "base.html" %}
{% load i18n %}

{% block title %}{% if is_edit %}{% trans "Edit" %}{% else %}{% trans "Add" %}{% endif %} {{ term.section|default:"Section" }} â€” {{ site.product_name|default:"KoNote" }}{% endblock %}

{% block content %}
<nav aria-label="{% trans 'Breadcrumb' %}">
    <ul>
        <li><a href="{% url 'plan_templates:template_list' %}">{% trans "Templates" %}</a></li>
        <li><a href="{% url 'plan_templates:template_detail' template_id=template.pk %}">{{ template.name }}</a></li>
        <li>{% if is_edit %}{% trans "Edit" %}{% else %}{% trans "Add" %}{% endif %} {{ term.section|default:"Section" }}</li>
    </ul>
</nav>

<h1>{% if is_edit %}{% blocktrans with section=term.section|default:"Section" %}Edit {{ section }}{% endblocktrans %}{% else %}{% blocktrans with section=term.section|default:"Section" %}Add {{ section }}{% endblocktrans %}{% endif %}</h1>

<form method="post">
    {% csrf_token %}

    {% for field in form %}
    <label for="{{ field.id_for_label }}">
        {{ field.label }}
        {% if field.field.required %}<abbr title="{% trans 'required' %}">*</abbr>{% endif %}
    </label>
    {{ field }}
    {% if field.errors %}
    <small class="error" role="alert">{{ field.errors.0 }}</small>
    {% endif %}
    {% if field.help_text %}
    <small>{{ field.help_text }}</small>
    {% endif %}
    {% endfor %}

    <div role="group">
        <button type="submit">{% if is_edit %}{% trans "Save Changes" %}{% else %}{% blocktrans with section=term.section|default:"Section" %}Add {{ section }}{% endblocktrans %}{% endif %}</button>
        <a href="{% url 'plan_templates:template_detail' template_id=template.pk %}" role="button" class="secondary">{% trans "Cancel" %}</a>
    </div>
</form>
{% endblock %}
