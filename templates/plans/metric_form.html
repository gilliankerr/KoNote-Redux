{% extends "base.html" %}
{% load i18n %}

{% block title %}{% if editing %}{% trans "Edit" %}{% else %}{% trans "Create" %}{% endif %} {{ term.metric|default:"Metric" }} â€” {{ site.product_name|default:"KoNote" }}{% endblock %}

{% block content %}
<hgroup>
    <h1>{% if editing %}{% blocktrans with metric=term.metric|default:"Metric" %}Edit {{ metric }}{% endblocktrans %}{% else %}{% blocktrans with metric=term.metric|default:"Metric" %}Create {{ metric }}{% endblocktrans %}{% endif %}</h1>
    <p>{% if editing %}{% trans "Update metric definition." %}{% else %}{% trans "Add a custom metric to the library." %}{% endif %}</p>
</hgroup>

<form method="post">
    {% csrf_token %}
    {% for field in form %}
    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
    {{ field }}
    {% if field.help_text %}
    <small>{{ field.help_text }}</small>
    {% endif %}
    {% if field.errors %}
    <small class="error" role="alert">{{ field.errors.0 }}</small>
    {% endif %}
    {% endfor %}

    <div role="group">
        <button type="submit">{% if editing %}{% trans "Save Changes" %}{% else %}{% blocktrans with metric=term.metric|default:"Metric" %}Create {{ metric }}{% endblocktrans %}{% endif %}</button>
        <a href="{% url 'plans:metric_library' %}" role="button" class="outline secondary">{% trans "Cancel" %}</a>
    </div>
</form>
{% endblock %}
