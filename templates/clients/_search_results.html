{% load i18n %}
{% if results %}
<table role="grid" class="client-table" aria-label="{% blocktrans with clients=term.client_plural|default:'Participants' %}{{ clients }} search results{% endblocktrans %}">
    <thead>
        <tr>
            <th scope="col">{% trans "Name" %}</th>
            <th scope="col">{% trans "Record ID" %}</th>
            <th scope="col">{% trans "Status" %}</th>
            <th scope="col">{{ term.program_plural|default:"Programs" }}</th>
        </tr>
    </thead>
    <tbody>
        {% for item in results %}
        <tr>
            <td><a href="{% url 'clients:client_detail' client_id=item.client.pk %}">{{ item.name }}</a></td>
            <td data-label="{% trans 'ID' %}">{{ item.client.record_id|default:"â€”" }}</td>
            <td data-label="{% trans 'Status' %}">
                {% if item.client.status == "active" %}
                    <span class="badge badge-success">{% trans "Active" %}</span>
                {% elif item.client.status == "inactive" %}
                    <span class="badge badge-warning">{% trans "Inactive" %}</span>
                {% else %}
                    <span class="badge badge-neutral">{% trans "Discharged" %}</span>
                {% endif %}
            </td>
            <td data-label="{{ term.program_plural|default:'Programs' }}">
                {% for prog in item.programs %}
                <span class="program-dot" style="background-color: {{ prog.colour_hex }}" aria-hidden="true"></span>{{ prog.name }}{% if not forloop.last %}, {% endif %}
                {% endfor %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% elif query %}
<div class="empty-state">
    <p>{% blocktrans with clients=term.client_plural|default:"participants" %}No {{ clients }} match "{{ query }}".{% endblocktrans %}</p>
</div>
{% endif %}
