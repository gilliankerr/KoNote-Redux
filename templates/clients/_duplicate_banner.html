{% load i18n %}
{% if matches %}
<article aria-label="{% trans 'Possible duplicate' %}" class="duplicate-banner">
    <header>
        <strong>{% trans "Possible duplicate found" %}</strong>
    </header>
    {% for match in matches %}
    <p>
        {% if match_type == "name_dob" %}
        {% trans "A client with a similar name and date of birth already has a record." %}
        {% else %}
        {% blocktrans with first=match.display_name last=match.last_name %}A client named <strong>{{ first }} {{ last }}</strong> already has a record with this phone number.{% endblocktrans %}
        {% endif %}
        {% if match.program_names %}
        <br><small>
            {% for pname in match.program_names %}{{ pname }}{% if not forloop.last %}, {% endif %}{% endfor %}
        </small>
        {% endif %}
    </p>
    <p>
        {% if match_type == "name_dob" %}
        <a href="{% url 'clients:client_detail' client_id=match.client_id %}" role="button" class="secondary outline">{% trans "Check existing records" %}</a>
        {% else %}
        <a href="{% url 'clients:client_detail' client_id=match.client_id %}" role="button" class="secondary outline">{% trans "View existing record" %}</a>
        {% endif %}
    </p>
    {% endfor %}
    <footer>
        <small>{% trans "If this is a different person, continue creating the new record." %}</small>
    </footer>
</article>
{% endif %}
