{% load i18n %}
{# HTMX inline form for recording a contact #}
<div id="quick-log-container" class="quick-log-section">
    <h2>
        {% if channel == "phone" %}{% trans "Record a Call" %}
        {% elif channel == "sms" %}{% trans "Record a Text" %}
        {% elif channel == "email" %}{% trans "Record an Email" %}
        {% elif channel == "in_person" %}{% trans "Record a Visit" %}
        {% else %}{% trans "Record a Contact" %}
        {% endif %}
    </h2>

    <form hx-post="{% url 'communications:quick_log' client_id=client.pk %}"
          hx-target="#quick-log-container"
          hx-swap="outerHTML">
        {% csrf_token %}
        {{ form.channel }}
        {{ form.direction }}

        <label for="id_outcome">{% trans "Outcome" %}</label>
        {{ form.outcome }}

        <label for="id_notes">{% trans "Notes (optional)" %}</label>
        {{ form.notes }}

        <div class="grid" style="margin-top: 0.5rem;">
            <button type="submit">{% trans "Save" %}</button>
            <button type="button" class="outline secondary"
                    hx-get="{% url 'communications:quick_log' client_id=client.pk %}"
                    hx-target="#quick-log-container"
                    hx-swap="outerHTML">
                {% trans "Cancel" %}
            </button>
        </div>
    </form>
</div>
