{% load i18n %}
<article class="meeting-card" id="meeting-{{ meeting.pk }}">
    <header>
        <strong>{{ meeting.event.start_timestamp|date:"D, M d, Y — g:i A" }}</strong>
        {% if meeting.location %}<span class="secondary"> — {{ meeting.location }}</span>{% endif %}
    </header>
    <p>
        <a href="{% url 'clients:client_detail' client_id=meeting.event.client_file_id %}">
            {{ meeting.event.client_file.display_name }} {{ meeting.event.client_file.last_name }}
        </a>
        {% if meeting.event.client_file.record_id %}
        <span class="secondary">({{ meeting.event.client_file.record_id }})</span>
        {% endif %}
    </p>

    {% include "events/_meeting_status.html" with meeting=meeting %}

    {% if meeting.status == "scheduled" and not meeting.reminder_sent %}
    {% if features.messaging_sms or features.messaging_email %}
    <div id="send-reminder-{{ meeting.pk }}" style="margin-top: 0.25rem;">
        <button class="outline" style="padding: 0.25rem 0.5rem; font-size: 0.875rem;"
                hx-get="{% url 'communications:send_reminder_preview' client_id=meeting.event.client_file_id event_id=meeting.event_id %}"
                hx-target="#send-reminder-{{ meeting.pk }}"
                hx-swap="innerHTML">
            {% trans "Send Reminder" %}
        </button>
    </div>
    {% endif %}
    {% endif %}
</article>
